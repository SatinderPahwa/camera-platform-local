;; Configuration for BaseRtpEndpoint (Camera RTP streams)
;; This file is REMB_FIX - enables REMB feedback for camera adaptive bitrate
;; Created: 2025-12-29
;; Purpose: Fix RTCP/REMB not flowing to camera (TODO.md issue #2)

;; Port range for incoming RTP streams
;; Must match KMS_MIN_PORT and KMS_MAX_PORT from environment
minPort=5000
maxPort=5050

;; Maximum Transmission Unit for RTP packets
;; Default is 1200 bytes (matches libwebrtc)
;; DO NOT change unless absolutely necessary
mtu=1200

;; REMB (Receiver Estimated Maximum Bitrate) Configuration
;; CRITICAL: These settings enable REMB feedback to camera
;; REMB is needed for adaptive bitrate - without it camera times out after 30s

;; Enable REMB local (send REMB packets to remote sender - the camera)
;; Default: true (but we explicitly set it to be sure)
rembLocalActivation=true

;; Enable REMB remote (accept REMB packets from remote - not used for camera)
;; Default: false
rembRemoteActivation=false

;; REMB parameters for controlling bitrate
;; These values control how aggressively REMB adjusts bitrate

;; REMB on connect bitrate (bps) - initial bitrate estimate
;; Default: 300000 (300 Kbps) - we use 5000 Kbps (5 Mbps) for camera
rembOnConnect=5000000

;; Minimum REMB bitrate (bps) - never go below this
;; Default: 30000 (30 Kbps) - we use 500 Kbps minimum
rembMinBitrate=500000

;; RTCP configuration
;; Ensure RTCP packets are sent regularly

;; RTCP interval in milliseconds (how often to send RTCP)
;; Default: 1000ms (1 second)
;; We keep default - REMB should be sent every 1 second
;rtcpInterval=1000

;; GStreamer debug (optional - uncomment for RTCP debugging)
;; This will log RTCP packet generation
;gstDebug=3,rtcp*:5,rtp*:4

;; Network interface configuration
;; Let Kurento auto-detect (uses networkInterfaces from WebRtcEndpoint)
;; This ensures RTCP goes to correct interface

;; Quality of Service (QoS) DSCP marking (optional)
;; Uncomment to prioritize RTP/RTCP packets at network level
;dscpValue=46
